<h1>Player#summary</h1>
<%= form_tag player_summary_path, method: :get do %>
  <tr>
    <td><label>玩家:</label></td>
    <td><%= select('summary', "user_id", User.all.collect {|u| [ u.name, u.id ] }, {include_blank: 'all', selected: @hash[:user_id]})%></td>
    <td><label>角色:</label></td>
    <td><%= select('summary', "role_id", Role.all.collect {|u| [ u.name, u.id ] }, {include_blank: 'all', selected: @hash[:role_id]})%></td>
    <td><label>只選最後去旅行:</label></td>
    <td><%= check_box('summary', "is_last_traveller", {checked: @hash[:is_last_traveller]}) %></td>
     <td><label>只選最先行動:</label></td>
    <td><%= check_box('summary', "is_first_mover", {checked: @hash[:is_first_mover]}) %></td>
  </tr>
  <br/>
  <%= submit_tag 'search' %>
<% end %>
<table>
  <tr>
    <th/>
    <th>分數</th>
  <tr>
    <td>平均分</td>
    <td><%= @player_list.avg_score %></td>
  </tr>
  <tr>
    <td>最高分</td>
    <td><%= @player_list.max_score %></td>
  </tr>
  <tr>
    <td>最低分</td>
    <td><%= @player_list.min_score %></td>
  </tr>
</table>
<br/>
<table>
  <tr>
    <th>玩家</th>
    <th>次數</th>
  <% @player_list.user_count.each do |k,v| %>
    <tr>
      <td><%= User.find_by_id(k).name %></td>
      <td><%= v %></td>
    </tr>
  <% end %>
  </tr>
</table>
<br/>
<table>
  <tr>
    <th>角色</th>
    <th>次數</th>
  <% @player_list.role_count.each do |k,v| %>
    <tr>
      <td><%= Role.find_by_id(k).name %></td>
      <td><%= v %></td>
    </tr>
  <% end %>
  </tr>
</table>
